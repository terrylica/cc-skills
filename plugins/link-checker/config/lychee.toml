# Lychee Link Checker Configuration
# Plugin: link-checker
# ADR: /docs/adr/2025-12-11-link-checker-plugin-extraction.md
#
# This is the default configuration bundled with the plugin.
# Override by placing .lycheerc.toml or lychee.toml in your workspace.

############################# Display ###############################
verbose = "error"      # Only show errors
no_progress = true     # Required for non-interactive shells

############################# Cache #################################
cache = true                        # Enable response caching (.lycheecache)
max_cache_age = "7d"                # Weekly cache expiration
cache_exclude_status = "429,500..=599"  # Don't cache rate limits/server errors

############################# Runtime ###############################
timeout = 5                 # Fast timeout (offline mode, local files only)
max_retries = 1             # Minimal retries (validation is idempotent)
max_concurrency = 4         # Moderate parallelism

############################# Features ##############################
offline = true              # Only check local files (no network requests)
include_fragments = true    # Validate anchor fragments (#section)
include_verbatim = false    # Skip code blocks (intended behavior)
include_mail = false        # Disable email validation

############################# Exclusions ############################
exclude_path = [
    "node_modules/",
    "\\.git/",
    "file-history/",
    "plugins/marketplaces/",
    "todos/.*\\.json$",
    "\\.venv/",
    "backups/",
    "__pycache__/",
]

# Exclude patterns (regex) - applied to link URLs
exclude = [
    "^mailto:",  # Skip email links entirely
]
